spring:
  datasource:
    # H2 인메모리 데이터베이스 사용 (CI 환경에서 안정적인 테스트용)
    url: jdbc:h2:mem:testdb;MODE=MySQL;DATABASE_TO_LOWER=TRUE;DB_CLOSE_DELAY=-1
    username: sa
    password: 
    driver-class-name: org.h2.Driver
  jpa:
    hibernate:
      ddl-auto: create-drop
    properties:
      hibernate:
        format_sql: true
        default_batch_fetch_size: 100
        dialect: org.hibernate.dialect.H2Dialect
  flyway:
    # 테스트 환경에서는 Flyway 비활성화
    enabled: false
  h2:
    console:
      enabled: true

logging:
  level:
    org.hibernate.SQL: info
    org.hibernate.orm.jdbc.bind: warn

# 테스트에서 필요한 보안/스토리지 등 고정 값 설정
jwt:
  secret: local-test-secret-min-32-chars-1234567890
  access-exp-ms: 3600000
  issuer: community-app

refresh:
  exp-ms: 1209600000
  cookie:
    name: refreshToken
    path: /
    secure: false
    same-site: Lax
    domain: 

app:
  cors:
    allowed-origins: http://localhost:3000,http://127.0.0.1:3000
  security:
    token-hash-algorithm: SHA-256
    max-refresh-tokens-per-user: 5
  enable-origin-validation: false
  public-base-url: http://localhost:8080/files
  storage:
    provider: local
    local:
      # 테스트용 임시 디렉토리 사용 (시스템 임시 디렉토리 내 하위 폴더)
      base-path: ${java.io.tmpdir}/community-test-uploads
